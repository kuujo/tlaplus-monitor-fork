#!/bin/bash

args=""
cont=false
monitor=false
trace=""
alert=""

while (( "$#" )); do
  case "$1" in
    -monitor)
      monitor=true
      shift
      ;;
    -*)
      args="$args $1"
      shift
      ;;
    *)
      args="$args $1"
      shift
      ;;
  esac
done

if [ "$monitor" = true ]; then
    TRACE_SOURCE=$trace ALERT_SINK=$alert java -DTLA-Library=/opt/tlaplus/lib/tlaplus-monitor-0.1-jar-with-dependencies.jar -cp /opt/tlaplus/lib/tla2tools.jar:/opt/tlaplus/lib/tlaplus-monitor-0.1-jar-with-dependencies.jar:/opt/tlaplus/module tlcb.TLCB $args
else
    java -DTLA-Library=/opt/tlaplus/lib/tlaplus-monitor-0.1-jar-with-dependencies.jar -cp /opt/tlaplus/lib/tla2tools.jar:/opt/tlaplus/lib/tlaplus-monitor-0.1-jar-with-dependencies.jar:/opt/tlaplus/module tlc2.TLC $args
fi
